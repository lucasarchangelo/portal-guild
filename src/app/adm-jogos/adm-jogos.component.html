<div class="container">
  <ul class="collapsible" data-collapsible="accordion">
    <li>
        <div class="collapsible-header"><i class="material-icons">filter_drama</i>Cadastrar Jogos</div>
        <div class="collapsible-body">
            <form id="formJogo" data-toggle="validator" #formGame="ngForm"  role="form" (ngSubmit)="createGame(formGame)" >
                <div class="row">
                  <div class="input-field col s12">
                    <input [(ngModel)]="game.name" id="name" name="name" type="text" class="validate" required>
                    <label class="active" for="name">Nome</label>
                  </div>
                </div>
                <div class="row">
                  <div class="input-field col s12">
                    <select [(ngModel)]="game.resetDay" id="resetDay" name="resetDay">
                        <option value ='1' selected>Segunda-feira</option>
                        <option value ='2' selected>Terça-feira</option>
                        <option value ='3' selected>Quarta-feira</option>
                        <option value ='4' selected>Quinta-feira</option>
                        <option value ='5' selected>Sexta-feira</option>
                        <option value ='6' selected>Sábado</option>
                        <option value ='7' selected>Domingo</option>
                    </select>
                    <label>Dia do reset semanal</label>
                  </div>
                </div>
                <div class="row">
                  <div class="input-field col s12">
                    <button class="btn waves-effect waves-light" type="submit" name="action" [disabled]="!formGame.valid">Criar Jogo
                      <i class="material-icons right">send</i>
                    </button>
                  </div>
                </div>
              </form>
              <div class="row">
                  <table>
                      <thead>
                        <tr>
                            <th>Nome</th>
                            <th></th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let game of games;">
                          <td>{{ game.name }}</td>
                          <td>
                              <button class="btn waves-effect waves-light red" type="submit" name="action" (click)='deleteGame(game._id)'>
                                  <i class="material-icons left">delete</i><span class="hide-on-small-only">Excluir Jogo</span>
                              </button>
                          </td>
                        </tr>
                      </tbody>
                  </table>
              </div>
        </div>
    </li>
    <li>
      <div class="collapsible-header"><i class="material-icons">filter_drama</i>Cadastrar Pendências</div>
      <div class="collapsible-body">
        <form id="formPendencia" data-toggle="validator" #formPendency="ngForm"  role="form" (ngSubmit)="gravaNovaPendencia(formPendency)" >
          <div class="row">
            <div class="input-field col s12">
                <select [(ngModel)]="pendency.game" id="gameCad" name="gameCad">
                </select>
              <label>Jogos</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s8">
              <input [(ngModel)]="pendency.name" id="name" name="name" type="text" class="validate" required>
              <label class="active" for="name">Nome</label>
            </div>
            <div class="input-field col s4">
                <select [(ngModel)]="pendency.weekly" id="weekly" name="weekly">
                    <option value ='0' selected>Não</option>
                    <option value ='1' selected>Sim</option>
                </select>
                <label>Semanal</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12">
              <button class="btn waves-effect waves-light" type="submit" name="action" [disabled]="!formPendency.valid">Criar Pendência
                <i class="material-icons right">send</i>
              </button>
            </div>
          </div>
        </form>
      </div>
    </li>
    <li>
        <div class="collapsible-header"><i class="material-icons">filter_drama</i>Gerenciar Pendências</div>
        <div class="collapsible-body">
            <div class="row">
                <div class="input-field col s8">
                    <select [(ngModel)]="pendency.game" id="gameList" name="gameList" >
                    </select>
                  <label>Jogos</label>
                </div>
                <div class="input-field col s4">
                  <button class="btn waves-effect waves-light" type="button" name="buscar" (click)="listPendencyByGame()">
                    <span class="hide-on-small-only">Buscar</span>
                    <i class="material-icons left">search</i>
                  </button>
              </div>
            </div>
            <div class="row">
              <table>
                  <thead>
                    <tr>
                        <th>Nome</th>
                        <th></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let pendency of pendencies;">
                      <td>{{ pendency.name }}</td>
                      <td>
                          <button class="btn waves-effect waves-light red" type="submit" name="action" (click)='deletePendency(pendency._id)'>
                              <i class="material-icons left">delete</i><span class="hide-on-small-only">Excluir Pendência</span>
                          </button>
                      </td>
                    </tr>
                  </tbody>
              </table>
            </div>
        </div>
    </li>
  </ul>
</div>


